<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="fobox">
        <h1>Útiköltség-elszámolás</h1>
        <form action="" method="post">
            <table>
                <div class="adatok">
                    
                    <tr>
                        <td><h4>Személyes adatok</h4></td>
                    </tr>
                    <tr>
                        <td>Név: </td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td>Lakcím: </td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td>Születési dátum: </td>
                        <td><input type="date"></td>
                    </tr>

                    
                    <tr>
                        <td><h4>Gépjármű- és üzemanyagadatok</h4></td>
                    </tr>
                    <tr>
                        <td>Gépjármű gyártmánya, típusa: </td>
                        <td><input type="text" required></td>
                    </tr>
                    <tr>
                        <td>Üzemanyag fajtája: </td>
                        <td><select name="uzemanyagfajta">
                            <option value="Benzin">Benzin</option>
                            <option value="Gázolaj">Gázolaj</option>
                        </select></td>
                    </tr>
                    <tr>
                        <td>Fogyasztási norma: </td>
                        <td><select id="fogyasztas">
                            <option value="7.6">1000 cm3-ig 7,6 l/100km</option>
                            <option value="8.6">1001-1500 cm3 között 8,6 l/100km</option>
                            <option value="9.5">1501-2000 cm3 között 9,5 l/100km</option>
                            <option value="11.4">2001-3000 cm3 között 11,4 l/100km</option>
                            <option value="13.3">3001 cm3 fölött 13,3 l/100km</option>
                        </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Utazás dátuma: </td>
                        <td><input type="date" required></td>
                    </tr>
                    <tr>
                        <td>Üzemanyag egységára: </td>
                        <td><input type="text" id="uzemanyagar" required></td>
                        <td>Ft/l</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><a href="https://nav.gov.hu/ugyfeliranytu/uzemanyag/" class="navlink">Forrás: https://nav.gov.hu/ugyfeliranytu/uzemanyag/</a></td>
                    </tr>
                    

                    <tr>
                        <td><h4>A megtett út adatai</h4></td>
                    </tr>
                    <tr>
                        <td>Kiindulási hely: </td>
                        <td><input type="text" required></td>
                    </tr>
                    <tr>
                        <td>Úticél:</td>
                        <td><input type="text" required></td>
                    </tr>
                    <tr>
                        <td>További úticél:</td>
                        <td><input type="text" required></td>
                    </tr>
                    <tr>
                        <td>összes megtett távolság Google Maps alapján:</td>
                        <td><input type="text" id="megtett_kilometer" required></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="button" value="Ellenőrzés és számítás" onclick="szamol()"></td>
                    </tr>

                    <tr>
                        <td colspan="3"><hr></td>
                    </tr>
                    <tr>
                        <td>Útiköltség</td>
                        <td><span id="utikoltsegered"></span></td>
                        <td>Ft</td>
                    </tr>
                    <tr>
                        <td>Amortizáció</td>
                        <td><span id="amortizered"></span></td>
                        <td>Ft</td>
                    </tr>
                    <tr>
                        <td><b>Összes elszámolható költség:</b></td>
                        <td><span id="elszamolhato"></span></td>
                        <td>Ft</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="button" id="nyomtatas1" onclick="nyomtatas()" value="Nyomtatás" disabled></td>
                    </tr>
                    <tr>
                        <td><p class="nyomtatni">Aláírásommal igazolom, hogy az adatok a valóságnak megfelelnek.</p></td>
                    </tr>
                    <tr>
                        <td><p class="nyomtatni">....................................... </p></td>
                        <td><p id="datum"></p></td>
                    </tr>
                    <tr>
                        <td colspan="2"></td>
                        <td><p class="nyomtatni">................................................</p></td>
                    </tr>
                    <tr>
                        <td colspan="2"></td>
                        <td><p class="nyomtatni">Aláírás</p></td>
                    </tr>


                </div>
            </table>
        </form>
    </div>

    <script>
        function szamol(){

            document.getElementById("ellen")
            ossz = 0

            fogyasztas = document.getElementById("fogyasztas").value
            uzemanyagar = document.getElementById("uzemanyagar").value
            megtettkilometer = document.getElementById("megtett_kilometer").value


            utikoltseg = fogyasztas * uzemanyagar * megtettkilometer / 100
            utikoltsegered.innerHTML = Math.floor(utikoltseg)


            amortizacio = megtettkilometer * 15
            amortizered.innerHTML = Math.floor(amortizacio)


            elszamolhatoer = utikoltseg + amortizacio
            elszamolhato.innerHTML = Math.floor(elszamolhatoer)

            document.getElementById("nyomtatas1").disabled = false

        }

        function nyomtatas(){
            now = new Date()
            year = now.getFullYear();
            month = now.getMonth() + 1
            day = now.getDate()
            
            document.getElementById("datum").innerHTML = year + "." + month + "." + day
            
            window.print()

            
        }
    </script>
    
</body>
</html>